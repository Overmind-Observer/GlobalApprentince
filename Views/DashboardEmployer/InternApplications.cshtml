@model Global_Intern.Models.Filters.ApplicationsFilter;
@using Global_Intern.Models.AdditonalModels

@{
    ViewData["Title"] = "Applications";
    Layout = "~/Views/Shared/_LayoutDashBoard.cshtml";
}


<div class="content">
    <main>
        <div class="container-fluid">

                <h1>Intern Applications </h1>
                <form asp-controller="DashboardEmployer" asp-action="InternApplications" method="get">
                    <p>
                        <select asp-for="ApplicationTitle" asp-items="Model.Titles">
                            <option value="">Internship</option>
                        </select>

                        <select asp-for="ApplicationStatus" asp-items="Model.Status">
                            <option value="">Status</option>
                        </select>


                    </p>
                    <input type="submit" value="Filter" />
                </form>
                
                    <table class="table table-hover">

                        <thead>
                        <td>Application Briefs</td>
                        <td>Action</td>
                        <td>Status</td>
                        </thead>

                        @foreach (var item in Model.Applications)
                        {
                            <tr>
                                <td>
                                    <span>Application number @item.AppliedInternshipId</span>
                                    <div>Applicant name: @item.User.UserFirstName, @item.User.UserLastName</div>
                                    <div>Position: @item.Internship.InternshipTitle</div>
                                </td>
                                <td>
                                    <a asp-action="ApplicationDetails" asp-route-id="@item.AppliedInternshipId">

                                        Details
                                        |
                                    </a>
                                    <a asp-action="ApplicationLike" asp-route-id="@item.AppliedInternshipId">
                                        @{
                                            if (item.Shortlist)
                                            { <i class="fa fa-heart" aria-hidden="true"></i> }
                                            else
                                            { <i class="fa fa-heart-o" aria-hidden="true"></i>}
                                        }

                                    </a>



                                </td>
                                <td>
                                    @item.ApplicationStatus.ToString().ToUpper()
                                </td>
                            </tr>

                        }


                    </table>

</div>
    </main>
</div>
